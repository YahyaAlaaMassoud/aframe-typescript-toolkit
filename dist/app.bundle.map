{"version":3,"sources":["file:////Users/aron/dev/projects/olio/vr/aframe-typescript-toolkit/src/index.ts","file:////Users/aron/dev/projects/olio/vr/aframe-typescript-toolkit/src/component_wrapper.ts","file:////Users/aron/dev/projects/olio/vr/aframe-typescript-toolkit/src/entity_builder.ts"],"names":[],"mappings":";;;;;;;;AAAA;AACA,QAAQ,GAAR,CAAY,2BAAZ,E;;;;;;;;;;ACDA;AAEA;AAYI,8BAAY,IAAZ,EAA0B,MAA1B,EAAqC;AAArC;AACI,aAAK,IAAL,GAAY,IAAZ;AACA,YAAM,QAAQ,iBAAiB,sBAAjB,CAAwC,IAAxC,EAA8C,OAAO,SAArD,CAAd;AACA,cAAM,OAAN,CAAe,aAAC;AAAI,yBAAK,CAAL,IAAU,MAAV,CAAU,CAAV;AAAiB,SAArC;AACA,aAAK,QAAL,IAAiB,UAAU,EAA3B;AACH;AAED;AACA;AAEA,mDAAS,CAAT;AACA,oDAAU,CAAV;AACA,mDAAS,CAAT;AACA,qDAAW,CAAX;AACA,kDAAO,OAAP,EAAkB,CAAI,CAAtB;AACA,wDAAa,MAAb,EAAuB,CAAI,CAA3B;AACA,yDAAe,CAAf;AAEA;AACA;AAEA;AACI,YAAM,SAAS,KAAK,EAAL,CAAQ,aAAvB;AACA,YAAI,CAAC,CAAC,MAAN,EAAc;AACV,mBAAO,WAAP,CAAmB,KAAK,EAAxB;AACH;AACJ,KALD;AAOA;AACI,eAAO,iBAAP,CAAyB,KAAK,IAA9B,EAAoC,IAApC;AACH,KAFD;AAIA,uDAAY,IAAZ,EAAwB;AACpB,eAAO,IAAI,wBAAJ,CAAkB,IAAlB,CAAP;AACH,KAFD;AAIA;AACA;AAEe,iCAAY,UAAC,GAAD,EAAU,IAAV,EAAsB;AAC7C,YAAM,OAAO,OAAO,wBAAP,CAAiC,GAAjC,EAAsC,IAAtC,CAAb;AACA,eAAO,CAAC,CAAC,IAAF,IAAU,OAAO,KAAK,KAAZ,KAAsB,UAAvC;AACH,KAHc;AAKA,8CAAyB,UAAC,GAAD,EAAU,IAAV,EAAkB;AACtD,YAAM,QAAkB,EAAxB;AACA,YAAI,QAAQ,OAAO,cAAP,CAAuB,GAAvB,CAAZ;AACA,eAAO,SAAS,UAAU,IAA1B,EAAgC;AAC9B,mBAAO,mBAAP,CAA4B,KAA5B,EACG,OADH,CACY,gBAAI;AACZ,oBAAI,SAAS,aAAb,EAA4B;AAC1B,wBAAI,iBAAiB,SAAjB,CAA4B,KAA5B,EAAmC,IAAnC,CAAJ,EAA8C;AAC5C,8BAAM,IAAN,CAAY,IAAZ;AACD;AACF;AACF,aAPH;AAQA,oBAAQ,OAAO,cAAP,CAAsB,KAAtB,CAAR;AACD;AACD,eAAO,KAAP;AACH,KAfc;AAgBnB;AAAC,CAxED;kBAA8B,gB;;;;;;;;;;ACA9B;AAGI,2BAAY,IAAZ,EAAwB;AACpB,aAAK,MAAL,GAAc,SAAS,aAAT,CAAuB,IAAvB,CAAd;AACH;AAED,4CAAI,GAAJ,EAAiB,SAAjB,EAA8B;AAC1B,aAAK,MAAL,CAAY,YAAZ,CAAyB,GAAzB,EAA8B,SAA9B;AACA,eAAO,IAAP;AACH,KAHD;AAKA,gDAAQ,CAAR,EAA2B;AACvB,UAAE,EAAF,CAAK,WAAL,CAAiB,KAAK,MAAtB;AACH,KAFD;AAIA,+CAAO,MAAP,EAA8E;AAC1E,YAAI,CAAC,CAAC,MAAN,EAAc;AACV;AACA,gBAAI,QAAQ,MAAZ,EAAoB;AAChB;AACA;AACA,uBAAO,EAAP,CAAU,WAAV,CAAsB,KAAK,MAA3B;AACH,aAJD,MAIO;AACH;AACA,uBAAO,WAAP,CAAmB,KAAK,MAAxB;AACH;AACJ,SAVD,MAUO;AACH;AACA,qBAAS,aAAT,CAAuB,SAAvB,EAAkC,WAAlC,CAA8C,KAAK,MAAnD;AACH;AACD,eAAO,IAAP;AACH,KAhBD;AAkBJ;AAAC,CAlCD","file":"app.bundle.js","sourcesContent":["import ComponentWrapper from \"./component_wrapper\"\nconsole.log(ComponentWrapper)\n\n\n// WEBPACK FOOTER //\n// ../node_modules/source-map-loader!./index.ts","import EntityBuilder from \"./entity_builder\"\n\nexport default abstract class ComponentWrapper<S = {}> \n    implements AFrame.Component<S> {\n\n    // component: AFrame.Component\n\n    data: S\n    name: string\n    el: AFrame.Entity\n    id: string\n    schema: any\n    system: any\n\n    constructor(name: string, schema?: {}) {\n        this.name = name\n        const funcs = ComponentWrapper.getInstanceMethodNames(this, Object.prototype)\n        funcs.forEach( k => this[k] = this[k])\n        this[\"schema\"] = schema || {}\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    // default aframe core function implementations\n\n    init() {}\n    pause() {}\n    play() {}\n    remove() {}\n    update(oldData: {}) {}\n    extendSchema(update: {}) {}\n    flushToDOM() {}\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    // special wrapper functions implementations\n\n    destroy() {\n        const parent = this.el.parentElement\n        if (!!parent) {\n            parent.removeChild(this.el)\n        }\n    }\n\n    register() {\n        AFRAME.registerComponent(this.name, this)\n    }\n\n    buildEntity(type: string): EntityBuilder {\n        return new EntityBuilder(type)\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    // helpers\n\n    private static hasMethod = (obj: {}, name: string) => {\n        const desc = Object.getOwnPropertyDescriptor (obj, name)\n        return !!desc && typeof desc.value === \"function\"\n    }\n\n    private static getInstanceMethodNames = (obj: {}, stop: {}) => {\n        const array: string[] = []\n        let proto = Object.getPrototypeOf (obj)\n        while (proto && proto !== stop) {\n          Object.getOwnPropertyNames (proto)\n            .forEach (name => {\n              if (name !== \"constructor\") {\n                if (ComponentWrapper.hasMethod (proto, name)) {\n                  array.push (name)\n                }\n              }\n            })\n          proto = Object.getPrototypeOf(proto)\n        }\n        return array\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/source-map-loader!./component_wrapper.ts","import ComponentWrapper from \"./component_wrapper\";\n\nexport default class EntityBuilder {\n    entity: AFrame.ANode\n\n    constructor(type: string) {\n        this.entity = document.createElement(type)\n    }\n\n    set(key: string, attribute: {}): EntityBuilder {\n        this.entity.setAttribute(key, attribute)\n        return this\n    }\n\n    attachx(f: ComponentWrapper) {\n        f.el.appendChild(this.entity)\n    }\n\n    attach(parent?: AFrame.ANode | AFrame.Scene | AFrame.Entity | ComponentWrapper): EntityBuilder {\n        if (!!parent) {\n            // a parent was specified\n            if (\"el\" in parent) {\n                // there's an element in this parent; attach the entity\n                // being created there\n                parent.el.appendChild(this.entity)\n            } else {\n                // there isn't; attach directly\n                parent.appendChild(this.entity)\n            }             \n        } else {\n            // attach to the scene by default\n            document.querySelector(\"a-scene\").appendChild(this.entity)\n        }\n        return this\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/source-map-loader!./entity_builder.ts"],"sourceRoot":""}