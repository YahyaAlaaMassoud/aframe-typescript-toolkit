{"version":3,"sources":["file:///webpack/bootstrap 0a9ab1826765ca864de3","file:////Users/aron/dev/projects/olio/vr/aframe-typescript-toolkit/examples/sphere_registry_system/index.ts","file:////Users/aron/dev/projects/olio/vr/aframe-typescript-toolkit/src/index.ts","file:////Users/aron/dev/projects/olio/vr/aframe-typescript-toolkit/src/aframe_wrapper.ts","file:////Users/aron/dev/projects/olio/vr/aframe-typescript-toolkit/src/entity_builder.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0a9ab1826765ca864de3","import { ComponentWrapper, SystemWrapper } from \"../../src/index\"\n\ninterface SphereRegistryComponentSchema {\n    readonly color: string\n    readonly position: string\n}\n\nexport class SphereRegistryComponent extends ComponentWrapper<SphereRegistryComponentSchema, SphereRegistrySystem> {\n    constructor() {\n        super(\"sphere-registry\", {\n            color: {\n                default: \"\",\n            },\n            position: {\n                default: \"\",\n            },\n        })\n    }\n\n    init() {\n        this.system.add(this)\n    }\n}\n\nexport class SphereRegistrySystem extends SystemWrapper {\n    constructor() {\n        super(\"sphere-registry\")\n\n        new SphereRegistryComponent().register()\n    }\n\n    add(component: SphereRegistryComponent) {\n        const { color, position } = component.data\n        console.log(color, position)\n\n        const board = document.querySelector(\"#board\")\n        const text = board.getAttribute(\"value\")\n        const newText = text + \"\\n\" + `${color} @ ${position}`\n        board.setAttribute(\"value\", newText)\n\n    }\n}\n\nnew SphereRegistrySystem().register()\n\n\n// WEBPACK FOOTER //\n// ./node_modules/source-map-loader!./index.ts","import { ComponentWrapper, SystemWrapper } from \"./aframe_wrapper\"\nimport { EntityBuilder } from \"./entity_builder\"\nexport {\n    ComponentWrapper,\n    SystemWrapper,\n    EntityBuilder,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/source-map-loader!/Users/aron/dev/projects/olio/vr/aframe-typescript-toolkit/src/index.ts","import { EntityBuilder } from \"./entity_builder\"\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n// helpers\n\n/***\n * @hidden\n */\nconst hasMethod = (obj: {}, name: string) => {\n    const desc = Object.getOwnPropertyDescriptor (obj, name)\n    return !!desc && typeof desc.value === \"function\"\n}\n\n/***\n * @hidden\n */\nconst getInstanceMethodNames = (obj: {}, stop: {}) => {\n    const array: string[] = []\n    let proto = Object.getPrototypeOf (obj)\n    while (proto && proto !== stop) {\n        Object.getOwnPropertyNames (proto)\n        .forEach (name => {\n            if (name !== \"constructor\") {\n            if (hasMethod (proto, name)) {\n                array.push (name)\n            }\n            }\n        })\n        proto = Object.getPrototypeOf(proto)\n    }\n    return array\n}\n\n/**\n * Extend this class to create strongly typed A-Frame components. \n * Default implementations for component lifecycle methods such as init(), tick(), and others are provided,\n * and can be overridden for your component's specific behavior.\n */\nexport abstract class ComponentWrapper<SCHEMA = {}, SYSTEM extends AFrame.System = AFrame.System> \n    implements AFrame.Component<SCHEMA, SYSTEM> {\n\n    el: AFrame.Entity\n    id: string\n    data: SCHEMA\n    schema: AFrame.Schema<SCHEMA>\n    system: SYSTEM\n    name: string\n\n    constructor(name: string, schema?: AFrame.Schema<SCHEMA>) {\n        this.name = name\n        this.schema = schema || {}\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    // default aframe core function implementations\n\n    /**\n     * Wraps https://aframe.io/docs/0.8.0/core/component.html#definition_lifecycle_handler_methods_remove.\n     */\n    remove() {}\n    /**\n     * Wraps https://aframe.io/docs/0.8.0/core/component.html#definition_lifecycle_handler_methods_update.\n     */\n    update(oldData: {}) {}\n    /**\n     * Wraps https://aframe.io/docs/0.8.0/core/component.html#definition_lifecycle_handler_methods_updateschema.\n     */\n    extendSchema(update: {}) {}\n    flushToDOM() {}\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    // default aframe core function implementations\n\n    /**\n     * Wraps https://aframe.io/docs/0.8.0/core/component.html#definition_lifecycle_handler_methods_init.\n     */\n    init() {}\n    /**\n     * Wraps https://aframe.io/docs/0.8.0/core/component.html#definition_lifecycle_handler_methods_pause.\n     */\n    pause() {}\n    /**\n     * Wraps https://aframe.io/docs/0.8.0/core/component.html#definition_lifecycle_handler_methods_play.\n     */\n    play() {}\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    // special wrapper functions implementations\n\n    /***\n     * @hidden\n     */\n    merge() {\n        const funcs = getInstanceMethodNames(this, Object.prototype)\n        funcs.forEach( k => this[k] = this[k])\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    // special wrapper functions implementations\n\n    destroy() {\n        const parent = this.el.parentElement\n        if (!!parent) {\n            parent.removeChild(this.el)\n        }\n    }\n\n    register() {\n        this.merge()\n        AFRAME.registerComponent(this.name, this)\n\n        return this\n    }\n\n    registerCallback(callbackName: string, fn: Function) {\n        this.el.addEventListener(callbackName, fn.bind(this))\n    }\n}\n\nexport abstract class SystemWrapper<SCHEMA extends { [key: string]: any } = {}>\n    implements AFrame.System {\n\n    data: SCHEMA\n    schema: AFrame.Schema<SCHEMA>\n    name: string\n\n    constructor(name: string, schema?: AFrame.Schema<SCHEMA>) {\n        this.name = name\n        this.schema = schema || {}\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    // default aframe core function implementations\n\n    init() {}\n    pause() {}\n    play() {}\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    // special wrapper functions implementations\n\n    /***\n     * @hidden\n     */\n    merge() {\n        const funcs = getInstanceMethodNames(this, Object.prototype)\n        funcs.forEach( k => this[k] = this[k])\n    }\n\n    register() {\n        this.merge()\n        AFRAME.registerSystem(this.name, this)\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./node_modules/source-map-loader!/Users/aron/dev/projects/olio/vr/aframe-typescript-toolkit/src/aframe_wrapper.ts","import { ComponentWrapper } from \"./aframe_wrapper\"\n\nexport interface Attributes {\n    [key: string]: {}\n}\n\nexport class EntityBuilder {\n    private entity: AFrame.Entity\n\n    constructor(type: string, attributes?: Attributes) {\n        this.entity = <AFrame.Entity> document.createElement(type)\n        if (attributes) {\n            this.setAttributes(attributes)\n        }\n    }\n\n    static create(type: string, attributes: Attributes, children?: EntityBuilder[]): EntityBuilder {\n        const builder = new EntityBuilder(type, attributes)\n        if (!!children) {\n            children.forEach( c => {\n                c.attachTo(builder.entity)\n            })\n        }\n        return builder\n    }\n\n    set(a: string, b?: any, c?: {}): EntityBuilder {\n        if (!!b && !!c) {\n            this.entity.setAttribute(a, b, c)\n        } else if (!!b) {\n            this.entity.setAttribute(a, b || \"\")\n        } else {\n            this.entity.setAttribute(a, \"\")\n        }\n        return this\n    }\n\n    setAttributes(attributes: Attributes): EntityBuilder {\n        Object.keys(attributes).forEach( k => {\n            this.set(k, attributes[k])            \n        })\n        return this\n    }\n\n    toEntity(): AFrame.Entity {\n        return this.entity\n    }\n\n    attachTo(parent?: EntityBuilder | AFrame.ANode | AFrame.Scene | AFrame.Entity | ComponentWrapper): EntityBuilder {\n        if (!parent) {\n            // attach to the scene by default\n            document.querySelector(\"a-scene\").appendChild(this.entity)\n            return this\n        }\n\n        // a parent was specified\n        if (\"el\" in parent) {\n            // there's an element in this parent; attach the entity\n            // being created there\n            parent.el.appendChild(this.entity)\n        } else {\n            // there isn't; attach directly\n            if (\"appendChild\" in parent) {\n                parent.appendChild(this.entity)\n            } else {\n                // parent.attach(this.entity)\n            }\n        }    \n\n        return this\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./node_modules/source-map-loader!/Users/aron/dev/projects/olio/vr/aframe-typescript-toolkit/src/entity_builder.ts"],"sourceRoot":""}