{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 3f951f55cc74224f94ed","webpack:///./src/index.ts","webpack:///./node_modules/aframe-typescript-toolkit/src/index.ts","webpack:///./node_modules/aframe-typescript-toolkit/src/aframe_wrapper.ts","webpack:///./node_modules/aframe-typescript-toolkit/src/entity_builder.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"AframeToolkitExample\"] = factory();\n\telse\n\t\troot[\"AframeToolkitExample\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3f951f55cc74224f94ed","import { ComponentWrapper, SystemWrapper } from \"aframe-typescript-toolkit\"\n\ninterface SphereRegistryComponentSchema {\n    readonly color: string\n    readonly position: string\n}\n\nexport class SphereRegistryComponent extends ComponentWrapper<SphereRegistryComponentSchema, SphereRegistrySystem> {\n    constructor() {\n        super(\"sphere-registry\", {\n            color: {\n                default: \"\",\n            },\n            position: {\n                default: \"\",\n            },\n        })\n    }\n\n    init() {\n        this.system.add(this)\n    }\n}\n\nexport class SphereRegistrySystem extends SystemWrapper {\n    constructor() {\n        super(\"sphere-registry\")\n\n        new SphereRegistryComponent().register()\n    }\n\n    add(component: SphereRegistryComponent) {\n        const { color, position } = component.data\n        console.log(color, position)\n\n        const board = document.querySelector(\"#board\")\n        const text = board.getAttribute(\"value\")\n        const newText = text + \"\\n\" + `${color} @ ${position}`\n        board.setAttribute(\"value\", newText)\n\n    }\n}\n\nnew SphereRegistrySystem().register()\n\n\n// WEBPACK FOOTER //\n// ./node_modules/source-map-loader!./src/index.ts","import { ComponentWrapper, SystemWrapper } from \"./aframe_wrapper\"\nimport { EntityBuilder } from \"./entity_builder\"\nexport {\n    ComponentWrapper,\n    SystemWrapper,\n    EntityBuilder,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/source-map-loader!./node_modules/aframe-typescript-toolkit/src/index.ts","import { EntityBuilder } from \"./entity_builder\"\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n// helpers\n\n/***\n * @hidden\n */\nconst hasMethod = (obj: {}, name: string) => {\n    const desc = Object.getOwnPropertyDescriptor (obj, name)\n    return !!desc && typeof desc.value === \"function\"\n}\n\n/***\n * @hidden\n */\nconst getInstanceMethodNames = (obj: {}, stop: {}) => {\n    const array: string[] = []\n    let proto = Object.getPrototypeOf (obj)\n    while (proto && proto !== stop) {\n        Object.getOwnPropertyNames (proto)\n        .forEach (name => {\n            if (name !== \"constructor\") {\n            if (hasMethod (proto, name)) {\n                array.push (name)\n            }\n            }\n        })\n        proto = Object.getPrototypeOf(proto)\n    }\n    return array\n}\n\n/**\n * Extend this class to create strongly typed A-Frame components. \n * Default implementations for component lifecycle methods such as init(), tick(), and others are provided,\n * and can be overridden for your component's specific behavior.\n */\nexport abstract class ComponentWrapper<SCHEMA = {}, SYSTEM extends AFrame.System = AFrame.System> \n    implements AFrame.Component<SCHEMA, SYSTEM> {\n\n    el: AFrame.Entity\n    id: string\n    data: SCHEMA\n    schema: AFrame.Schema<SCHEMA>\n    system: SYSTEM\n    name: string\n\n    constructor(name: string, schema?: AFrame.Schema<SCHEMA>) {\n        this.name = name\n        this.schema = schema || {}\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    // default aframe core function implementations\n\n    /**\n     * Wraps https://aframe.io/docs/0.8.0/core/component.html#definition_lifecycle_handler_methods_remove.\n     */\n    remove() {}\n    /**\n     * Wraps https://aframe.io/docs/0.8.0/core/component.html#definition_lifecycle_handler_methods_update.\n     */\n    update(oldData: {}) {}\n    /**\n     * Wraps https://aframe.io/docs/0.8.0/core/component.html#definition_lifecycle_handler_methods_updateschema.\n     */\n    extendSchema(update: {}) {}\n    flushToDOM() {}\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    // default aframe core function implementations\n\n    /**\n     * Wraps https://aframe.io/docs/0.8.0/core/component.html#definition_lifecycle_handler_methods_init.\n     */\n    init() {}\n    /**\n     * Wraps https://aframe.io/docs/0.8.0/core/component.html#definition_lifecycle_handler_methods_pause.\n     */\n    pause() {}\n    /**\n     * Wraps https://aframe.io/docs/0.8.0/core/component.html#definition_lifecycle_handler_methods_play.\n     */\n    play() {}\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    // special wrapper functions implementations\n\n    /***\n     * @hidden\n     */\n    merge() {\n        const funcs = getInstanceMethodNames(this, Object.prototype)\n        funcs.forEach( k => this[k] = this[k])\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    // special wrapper functions implementations\n\n    destroy() {\n        const parent = this.el.parentElement\n        if (!!parent) {\n            parent.removeChild(this.el)\n        }\n    }\n\n    register() {\n        // unregister any existing component\n        if (!!AFRAME.components[this.name]) {\n            console.log(`WARNING -- unregistering already registered component with name \"${this.name}\".`)\n            delete AFRAME.components[this.name]\n        }\n\n        this.merge()\n        AFRAME.registerComponent(this.name, this)\n\n        return this\n    }\n\n    registerCallback(callbackName: string, fn: Function) {\n        this.el.addEventListener(callbackName, fn.bind(this))\n    }\n}\n\nexport abstract class SystemWrapper<SCHEMA extends { [key: string]: any } = {}>\n    implements AFrame.System {\n\n    data: SCHEMA\n    schema: AFrame.Schema<SCHEMA>\n    name: string\n\n    constructor(name: string, schema?: AFrame.Schema<SCHEMA>) {\n        this.name = name\n        this.schema = schema || {}\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    // default aframe core function implementations\n\n    init() {}\n    pause() {}\n    play() {}\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    // special wrapper functions implementations\n\n    /***\n     * @hidden\n     */\n    merge() {\n        const funcs = getInstanceMethodNames(this, Object.prototype)\n        funcs.forEach( k => this[k] = this[k])\n    }\n\n    register() {\n        this.merge()\n        AFRAME.registerSystem(this.name, this)\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./node_modules/source-map-loader!./node_modules/aframe-typescript-toolkit/src/aframe_wrapper.ts","import { ComponentWrapper } from \"./aframe_wrapper\"\n\nexport interface Attributes {\n    [key: string]: {}\n}\n\nexport class EntityBuilder {\n    private entity: AFrame.Entity\n\n    constructor(type: string, attributes?: Attributes) {\n        this.entity = <AFrame.Entity> document.createElement(type)\n        if (attributes) {\n            this.setAttributes(attributes)\n        }\n    }\n\n    static create(type: string, attributes: Attributes, children?: EntityBuilder[]): EntityBuilder {\n        const builder = new EntityBuilder(type, attributes)\n        if (!!children) {\n            children.forEach( c => {\n                c.attachTo(builder.entity)\n            })\n        }\n        return builder\n    }\n\n    set(a: string, b?: any, c?: {}): EntityBuilder {\n        if (!!b && !!c) {\n            this.entity.setAttribute(a, b, c)\n        } else if (!!b) {\n            this.entity.setAttribute(a, b || \"\")\n        } else {\n            this.entity.setAttribute(a, \"\")\n        }\n        return this\n    }\n\n    setAttributes(attributes: Attributes): EntityBuilder {\n        Object.keys(attributes).forEach( k => {\n            this.set(k, attributes[k])            \n        })\n        return this\n    }\n\n    toEntity(): AFrame.Entity {\n        return this.entity\n    }\n\n    attachTo(parent?: EntityBuilder | AFrame.ANode | AFrame.Scene | AFrame.Entity | ComponentWrapper): EntityBuilder {\n        if (!parent) {\n            // attach to the scene by default\n            document.querySelector(\"a-scene\").appendChild(this.entity)\n            return this\n        }\n\n        // a parent was specified\n        if (\"el\" in parent) {\n            // there's an element in this parent; attach the entity\n            // being created there\n            parent.el.appendChild(this.entity)\n        } else {\n            // there isn't; attach directly\n            if (\"appendChild\" in parent) {\n                parent.appendChild(this.entity)\n            } else {\n                // parent.attach(this.entity)\n            }\n        }    \n\n        return this\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./node_modules/source-map-loader!./node_modules/aframe-typescript-toolkit/src/entity_builder.ts"],"sourceRoot":""}